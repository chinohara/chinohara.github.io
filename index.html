<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="description" content="chinohara'blog.">
    <!-- オープングラフプロトコル。通称OGプロトコル start -->
    <meta property="og:title" content="タイトル"/>
    <meta property="og:description" content="chinohara's blog"/>
    <meta property="og:image" content="http://chinohara.github.io/images/PENGIN.png"/>
    <meta property="og:url" content="http://chinohara.github.io/"/>
    <meta property="og:type" content="blog"/>
    <!-- オープングラフプロトコル。通称OGプロトコル end -->
    <!-- Include jQuery -->
    <!--<script src="javascript/jquery.js"></script>-->
    <!-- Include the Sidr JS -->
    <!--<script src="javascript/sidr/jquery.sidr.min.js"></script>-->
    <!--<script src="javascript/common.js"></script>-->
    <script src="/javascripts/jquery.js" type="text/javascript"></script>
    <script src="/javascripts/sidr/jquery.sidr.min.js" type="text/javascript"></script>
    <script src="/javascripts/common.js" type="text/javascript"></script>

    <!-- Pure CSS theme -->
    <!--<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.5.0/pure-min.css">-->
    <link href="/stylesheets/pure.css" rel="stylesheet" type="text/css" media="all" />
    <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.5.0/grids-responsive-min.css">
    <link href='http://fonts.googleapis.com/css?family=Orbitron' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Reenie+Beanie' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
    <!-- Include Sidr bundled CSS theme -->
    <!--<link rel="stylesheet" href="css/sidr/jquery.sidr.dark.css">-->
    <!--<link href="/stylesheets/pure.css" rel="stylesheet" type="text/css" media="all" />-->
    <link href="/stylesheets/sidr/jquery.sidr.dark.css" rel="stylesheet" type="text/css" media="all" />
    <link href="/stylesheets/genericons/genericons.css" rel="stylesheet" type="text/css" media="all" />
    <link href="/stylesheets/common.css" rel="stylesheet" type="text/css" media="all" />
    <link href="/stylesheets/modules/syntax_highlight.css" rel="stylesheet" type="text/css" media="all" />

    <title>Chinohara's Page</title>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/blog/feed.xml" />

    <!-- googleAnalytics start-->
    <script>
    alert(location.hostname);
    if (location.hostname == "chinohara.github.io") {
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-59010299-1', 'auto');
      ga('send', 'pageview');
    }
    </script>
    <!-- googleAnalytics end-->
  </head>
  <body>
    <div class="header">
      <div class="home-menu pure-menu pure-menu-open pure-menu-horizontal">
          <a class="pure-menu-heading mark" href="/index.html"><div class="container shape">C</div></a>
          <ul>
              <li>chinohara</li>
              <li class="last-right"><a id="right-menu" href="#right-menu" class="genericon genericon-menu last-right"></a></li>
          </ul>
      </div>
      <div id="sidr-right">
        <ul>
          <li><a href="/index.html">Home</a></li>
          <li><a href="/me.html">About Me</a></li>
        </ul>
      </div>
    </div>
    <div class="pure-g">
      <div id="main" role="main">
        <div class="sub-header pure-u-1">
          <div class="subtitle-m">Chinohara's blog.</div>
          <div class="subtitle-m">Full stack engineer(笑)への迷走</div>
        </div>
        <div class="pure-u-1 pure-u-sm-2-3">
            <!-- blog.erbと共有 start -->
  <div class="content">
    <div class="content-head">
      <a href="/blog/2015/02/04/1.html">Google Analyticsを設置してみた</a>
    </div>
    <div class="content-date">
      <div alt="f303" class="genericon genericon-time" title="genericon-time"></div>
      <span>2015/02/04 01:49</span>
    </div>
    <div class="content-tages">
      <div alt="f302" class="genericon genericon-tag top-mg" title="genericon-tag"></div>
            <span class="tag"><a href="/blog/tags/google-analytics.html">Google Analytics</a></span>
    </div>

    <div class="content-main">
      <!-- use article.summary(250) if you have Nokogiri available to show just
           the first 250 characters -->
           <p>Webサービスを運営していく際に、ページビューとかアクセスを解析してみたいなと重い、
Google Analyticsを設置するまでに参考にしたページのmemo

      <!--<p>Webサービスを運営していく際に、ページビューとかアクセスを解析してみたいなと重い、
Google Analyticsを設置するまでに参考にしたページのmemo
</p>

<h2 id="section">参考にしたページ</h2>

<h3 id="google--lig">無料アクセス解析ツールの定番「Googleアナリティクス」の意味と導入方法を知ろう | 株式会社LIG</h3>
<p><a href="http://liginc.co.jp/web/seo/107784">http://liginc.co.jp/web/seo/107784</a></p>

<h3 id="google-analytics--stockerjp--diary">Google Analyticsのコードがコピーされても動かないようにする方法 | Stocker.jp / diary</h3>
<p><a href="http://stocker.jp/diary/google-analytics/">http://stocker.jp/diary/google-analytics/</a></p>

<h2 id="section-1">設置までの概要</h2>

<h3 id="google">Googleアナリティクス公式サイト</h3>
<p><a href="http://www.google.com/intl/ja_ALL/analytics/index.html">http://www.google.com/intl/ja_ALL/analytics/index.html</a></p>

<p>Googleのアカウントを持っている場合は、上記サイトにログイン。 <br />
アカウントの登録で、設置するWebサイトのURLを指定。 <br />
トラッキングIDの取得。 <br />
トラッキングIDを指定した、トラッキングコードをWebサイトに設定。</p>

<div class="highlight html"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13</pre></td><td class="code"><pre><span class="c">&lt;!-- googleAnalytics start--&gt;</span>
<span class="nt">&lt;script&gt;</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">location</span><span class="p">.</span><span class="nx">hostname</span> <span class="o">==</span> <span class="s2">"example.com"</span><span class="p">)</span> <span class="p">{</span>
  <span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">m</span><span class="p">){</span><span class="nx">i</span><span class="p">[</span><span class="s1">'GoogleAnalyticsObject'</span><span class="p">]</span><span class="o">=</span><span class="nx">r</span><span class="p">;</span><span class="nx">i</span><span class="p">[</span><span class="nx">r</span><span class="p">]</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">r</span><span class="p">]</span><span class="o">||</span><span class="kd">function</span><span class="p">(){</span>
  <span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="nx">r</span><span class="p">].</span><span class="nx">q</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">r</span><span class="p">].</span><span class="nx">q</span><span class="o">||</span><span class="p">[]).</span><span class="nx">push</span><span class="p">(</span><span class="nx">arguments</span><span class="p">)},</span><span class="nx">i</span><span class="p">[</span><span class="nx">r</span><span class="p">].</span><span class="nx">l</span><span class="o">=</span><span class="mi">1</span><span class="o">*</span><span class="k">new</span> <span class="nb">Date</span><span class="p">();</span><span class="nx">a</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">o</span><span class="p">),</span>
  <span class="nx">m</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="nx">o</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span><span class="nx">a</span><span class="p">.</span><span class="nx">async</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">g</span><span class="p">;</span><span class="nx">m</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">m</span><span class="p">)</span>
  <span class="p">})(</span><span class="nb">window</span><span class="p">,</span><span class="nb">document</span><span class="p">,</span><span class="s1">'script'</span><span class="p">,</span><span class="s1">'//www.google-analytics.com/analytics.js'</span><span class="p">,</span><span class="s1">'ga'</span><span class="p">);</span>

  <span class="nx">ga</span><span class="p">(</span><span class="s1">'create'</span><span class="p">,</span> <span class="s1">'UA-59010299-1'</span><span class="p">,</span> <span class="s1">'auto'</span><span class="p">);</span>
  <span class="nx">ga</span><span class="p">(</span><span class="s1">'send'</span><span class="p">,</span> <span class="s1">'pageview'</span><span class="p">);</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
<span class="c">&lt;!-- googleAnalytics end--&gt;</span>
</pre></td></tr></tbody></table>
</div>
-->
    </div>
  </div>
  <!-- blog.erbと共有 end -->
  <!-- blog.erbと共有 start -->
  <div class="content">
    <div class="content-head">
      <a href="/blog/2015/01/26/1.html">動的URLでシェアボタンを配置</a>
    </div>
    <div class="content-date">
      <div alt="f303" class="genericon genericon-time" title="genericon-time"></div>
      <span>2015/01/26 23:53</span>
    </div>
    <div class="content-tages">
      <div alt="f302" class="genericon genericon-tag top-mg" title="genericon-tag"></div>
            <span class="tag"><a href="/blog/tags/sns.html">SNS</a></span>
    </div>

    <div class="content-main">
      <!-- use article.summary(250) if you have Nokogiri available to show just
           the first 250 characters -->
           <p>ブログにシェアボタンを配置しようと思ったときに、
facebookの公式サイトをサラッと読むと
固定URLへのシェアボタンになってしまうような・・・</p>

<p>URLを動的に設定して、現在のページへ遷移するシェアボタンにするために調べた内容をメモ。

      <!--<p>ブログにシェアボタンを配置しようと思ったときに、
facebookの公式サイトをサラッと読むと
固定URLへのシェアボタンになってしまうような・・・</p>

<p>URLを動的に設定して、現在のページへ遷移するシェアボタンにするために調べた内容をメモ。
</p>

<h2 id="section">公式の手順は？</h2>

<h3 id="twitter">twitter</h3>
<p>公式にある手順を元にすると、動的にURLを生成して、現在のURLにリンクを張ってツイート可能。
<a href="https://about.twitter.com/resources/buttons">https://about.twitter.com/resources/buttons</a></p>

<h3 id="facebook">facebook</h3>
<p>公式にある手順を元にすると、カスタムされた属性に固定URLを設定しないといけない。
<a href="https://developers.facebook.com/docs/plugins/like-button">https://developers.facebook.com/docs/plugins/like-button</a></p>

<h2 id="section-1">方針</h2>
<p>javascriptの初期化処理で、facebookのシェアボタンを生成するiframeを挿入する時に
現在のページのURLを設定する。</p>

<p>あんまり格好良くはないですが、省エネです。</p>

<h3 id="html">html</h3>
<div class="highlight html"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7</pre></td><td class="code"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"shares"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"twitter-share-button"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"https://twitter.com/share"</span> <span class="na">class=</span><span class="s">"twitter-share-button"</span> <span class="na">data-lang=</span><span class="s">"ja"</span><span class="nt">&gt;</span>ツイート<span class="nt">&lt;/a&gt;</span>
	<span class="nt">&lt;/div&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"fb-share-button"</span> <span class="na">class=</span><span class="s">"fb-share-button"</span><span class="nt">&gt;&lt;/div&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"end-share-button"</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></td></tr></tbody></table>
</div>

<h3 id="javascript">javascript</h3>
<p>※　appIdはFacebookページや、webサービス登録したものを使う。</p>

<div class="highlight javascript"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></td><td class="code"><pre><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span>
	<span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
		<span class="c1">// facebookシェアボタン初期化</span>
		<span class="nx">facebookShare</span><span class="p">();</span>
		<span class="c1">//  twitterシェアボタン初期化</span>
		<span class="nx">twitterShare</span><span class="p">(</span><span class="nb">document</span><span class="p">,</span> <span class="s1">'script'</span><span class="p">,</span> <span class="s1">'twitter-wjs'</span><span class="p">);</span>	
	<span class="p">}</span>
<span class="p">);</span>

<span class="c1">// facebookシェアボタン初期化</span>
<span class="kd">function</span> <span class="nx">facebookShare</span><span class="p">()</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">);</span>
	<span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"fb-share-button"</span><span class="p">).</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">'&lt;iframe src="//www.facebook.com/plugins/share_button.php?href='</span> <span class="o">+</span> <span class="nx">url</span> <span class="o">+</span> <span class="s1">'&amp;amp;layout=button_count&amp;amp;appId=xxxxxxxxxxxxxxxx" scrolling="no" frameborder="0" style="border:none; overflow:hidden;" allowTransparency="true"&gt;&lt;/iframe&gt;'</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">//  twitterシェアボタン初期化</span>
<span class="kd">function</span> <span class="nx">twitterShare</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span> <span class="nx">s</span><span class="p">,</span> <span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
	<span class="kd">var</span> <span class="nx">js</span><span class="p">,</span><span class="nx">fjs</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="nx">s</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span><span class="nx">p</span><span class="o">=</span><span class="sr">/^http:/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">location</span><span class="p">)?</span><span class="s1">'http'</span><span class="p">:</span><span class="s1">'https'</span><span class="p">;</span>
	<span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">d</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">id</span><span class="p">)){</span><span class="nx">js</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span>
		<span class="nx">js</span><span class="p">.</span><span class="nx">id</span><span class="o">=</span><span class="nx">id</span><span class="p">;</span><span class="nx">js</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">p</span><span class="o">+</span><span class="s1">'://platform.twitter.com/widgets.js'</span><span class="p">;</span>
		<span class="nx">fjs</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">js</span><span class="p">,</span><span class="nx">fjs</span><span class="p">);</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table>
</div>

<h2 id="section-2">今後余力があったら・・・</h2>
<p>今回は公式サイトが提供するソースを元に、カスタマイズしてスマートフォンからも押しやすいボタンを作りたいなと。</p>

<h2 id="url">シェアボタン設置時に参考にしたURL</h2>
<p><a href="http://qiita.com/shuntaro_tamura/items/26f8186d4111364918eb">各種SNSへのシェアボタン設置方法まとめ</a></p>

-->
    </div>
  </div>
  <!-- blog.erbと共有 end -->
  <!-- blog.erbと共有 start -->
  <div class="content">
    <div class="content-head">
      <a href="/blog/2015/01/12/1.html">ブログを書くためのマークダウン記法まとめ</a>
    </div>
    <div class="content-date">
      <div alt="f303" class="genericon genericon-time" title="genericon-time"></div>
      <span>2015/01/12 13:24</span>
    </div>
    <div class="content-tages">
      <div alt="f302" class="genericon genericon-tag top-mg" title="genericon-tag"></div>
            <span class="tag"><a href="/blog/tags/middleman.html">Middleman</a></span>
    </div>

    <div class="content-main">
      <!-- use article.summary(250) if you have Nokogiri available to show just
           the first 250 characters -->
           <p>初回投稿になるので、ブログ記事を投稿するにあたり必要な
マークダウン記法について纏めようと思います。

      <!--<p>初回投稿になるので、ブログ記事を投稿するにあたり必要な
マークダウン記法について纏めようと思います。
</p>

<h2 id="section">前提</h2>
<p>このブログでも利用しているMiddlemanは
デフォルトでMarkdownパーサーとしてKaramdownが設定されています。</p>

<h2 id="section-1">見出し</h2>
<p>見出しを記載する場合、 # を見出しの前に記載する。#の数と見出しの数は一致する。
&lt;h3&gt;の場合、### と記載する。</p>

<h2 id="section-2">改行</h2>
<p>半角スペース2つ以上つなげると改行になる。</p>

<h2 id="section-3">強調</h2>
<p>太字の場合、文言を** か __で囲む。
イタリック体の場合、文言を* か _で囲む。</p>

<h2 id="section-4">リスト</h2>
<p>リストを示す場合は、 <strong>リストの上部に空行をあけて</strong>、*, -, +のどれかを入力し、スペース、またはタブを挿入する。</p>

<h2 id="section-5">罫線</h2>
<p><strong>上部に空行をあけて</strong>、3つ以上の*, -, _のみで行を作成する。</p>

<h2 id="section-6">リンク</h2>
<p>角括弧で文言、丸括弧でURLを囲む。
例) [chinohara(このブログサイト)](http://chinohara.github.io/)</p>

<h2 id="section-7">コード</h2>
<p>コードを記載する場合、~~~ でコードの上下を囲む。
上部の ~~~ 後に"ruby" 等を指定してハイライトを設定する。</p>

<div class="highlight ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4</pre></td><td class="code"><pre><span class="n">set</span> <span class="ss">:markdown_engine</span><span class="p">,</span> <span class="ss">:redcarpet</span>
<span class="k">def</span> <span class="nf">my_cool_method</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="n">message</span>
<span class="k">end</span>
</pre></td></tr></tbody></table>
</div>

<h2 id="section-8">エスケープ</h2>
<p>エスケープさせたい場合は、\(バックシュラッシュ) or &lt;div&gt;&lt;/div&gt;ダグで囲む。</p>

<p>とりあえず、コレくらい知っておけば、いいのかな。。。</p>

-->
    </div>
  </div>
  <!-- blog.erbと共有 end -->
<div class="pagenate">
</div>



    


        </div>
        <div class="sidebar pure-u-1 pure-u-sm-1-3">
          <!--<div class="pure-g">-->
          <aside>
            <div class="subarea">
              <div class="sub-head">
                Recent Articles
              </div>
                <div class="resent-date">
                  <span>2015/02/04 01:49</span>
                </div>
                <div class="sub-main">
                  <a href="/blog/2015/02/04/1.html">Google Analyticsを設置してみた</a>
                </div>
                <div class="resent-date">
                  <span>2015/01/26 23:53</span>
                </div>
                <div class="sub-main">
                  <a href="/blog/2015/01/26/1.html">動的URLでシェアボタンを配置</a>
                </div>
                <div class="resent-date">
                  <span>2015/01/12 13:24</span>
                </div>
                <div class="sub-main">
                  <a href="/blog/2015/01/12/1.html">ブログを書くためのマークダウン記法まとめ</a>
                </div>
            </div>
            <div class="subarea">
              <div class="sub-head">
                Tags
              </div>
                <div class="sub-main">
                  <a href="/blog/tags/middleman.html">Middleman (1)</a>
                </div>
                <div class="sub-main">
                  <a href="/blog/tags/sns.html">SNS (1)</a>
                </div>
                <div class="sub-main">
                  <a href="/blog/tags/google-analytics.html">Google Analytics (1)</a>
                </div>
            </div>
            <div class="subarea">
              <div class="sub-head">
                By Year
              </div>
                <div class="sub-main">
                  <a href="/blog/2015.html">2015 (3)</a>
                </div>
            </div>
          </aside>
          <!--</div>-->
        </div>
      </div>
    </div>
    <div class="footer">
      <footer>
       <p>&copy; 2015 Copyright  by chinohara</p>
      </footer>
    </div>
  </body>
</html>
